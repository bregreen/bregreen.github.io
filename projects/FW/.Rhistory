p
p<- ggraph(wordnetwork, layout = "fr") +
geom_edge_link(aes(width = cooc, edge_alpha = cooc), edge_colour = "pink") +
geom_node_text(aes(label = name), col = "darkgreen", size = 4) +
theme_graph(base_family = "Arial Narrow") +
theme(legend.position = "none") +
facet_wrap_paginate(~year)+
labs(title = "Cooccurrences within sentence: BEFORE {frame_time}", subtitle = "Nouns & Adjective")+
transition_time2(year)
p
p<- ggraph(wordnetwork, layout = "fr") +
geom_edge_link(aes(width = cooc, edge_alpha = cooc), edge_colour = "pink") +
geom_node_text(aes(label = name), col = "darkgreen", size = 4) +
theme_graph(base_family = "Arial Narrow") +
theme(legend.position = "none") +
facet_wrap_paginate(~year)+
scale_alpha_identity()+
labs(title = "Cooccurrences within sentence: BEFORE {frame_time}", subtitle = "Nouns & Adjective")+
transition_time2(year)
ease_aes('linear')
p
p<- ggraph(wordnetwork, layout = "fr") +
geom_edge_link(aes(width = cooc, edge_alpha = cooc), edge_colour = "pink") +
geom_node_text(aes(label = name), col = "darkgreen", size = 4) +
theme_graph(base_family = "Arial Narrow") +
theme(legend.position = "none") +
# facet_wrap_paginate(~year)+
scale_alpha_identity()+
labs(title = "Cooccurrences within sentence: BEFORE {frame_time}", subtitle = "Nouns & Adjective")+
transition_time2(year)
ease_aes('linear')
p
library(ggraph)
library(ggforce)
library(gganimate)
library(ggplot2)
library(igraph)
library(animation)
library(lubridate)
results<-merge(x=x,y=extrem_AP.dfm.long, by.x='doc_id',  by.y = 0  ,all.x=TRUE)
cooc_year<- data.frame()
for(y in unique(results$pubyear)){
print(y)
cooc <- cooccurrence(x = subset(filter(results, pubyear == y), upos %in% c("NOUN", "ADJ")),
term = "lemma",
group = c("doc_id", "paragraph_id", "sentence_id"))
cooc$year <- y
cooc<- head(cooc, 10)
cooc_year <- rbind(cooc_year, cooc)
}
dim(cooc_year)
for(y in unique(results$pubyear)){
print(y)
cooc <- cooccurrence(x = subset(filter(results, pubyear == y), upos %in% c("NOUN", "ADJ")),
term = "lemma",
group = c("doc_id", "paragraph_id", "sentence_id"))
cooc$year <- y
cooc<- head(cooc, 60)
cooc_year <- rbind(cooc_year, cooc)
}
dim(cooc_year)
p<- ggraph(wordnetwork, layout = "fr") +
geom_edge_link(aes(width = cooc, edge_alpha = cooc), edge_colour = "pink") +
geom_node_text(aes(label = name), col = "darkgreen", size = 4) +
theme_graph(base_family = "Arial Narrow") +
theme(legend.position = "none") +
# facet_wrap_paginate(~year)+
scale_alpha_identity()+
labs(title = "Cooccurrences within sentence: BEFORE {frame_time}", subtitle = "Nouns & Adjective")+
transition_time2(year)
p
plot(p)
cooc2_year<- data.frame()
for(y in unique(results$pubyear)){
print(y)
a<- filter(results, pubyear == y)
cooc <- cooccurrence(a$lemma, relevant = df$upos %in% c("NOUN", "ADJ"), skipgram = 1)
cooc$year <- y
cooc<- head(cooc, 60)
cooc2_year <- rbind(cooc2_year, cooc)
}
cooc2_year<- data.frame()
for(y in unique(results$pubyear)){
print(y)
a<- filter(results, pubyear == y)
cooc <- cooccurrence(a$lemma, relevant = df$upos %in% c("NOUN", "ADJ"), skipgram = 1)
cooc$year <- y
cooc<- head(cooc, 60)
cooc2_year <- rbind(cooc2_year, cooc)
}
View(a)
cooc2_year<- data.frame()
for(y in unique(results$pubyear)){
print(y)
a<- filter(results, pubyear == y)
cooc <- cooccurrence(a$lemma, relevant = a$upos %in% c("NOUN", "ADJ"), skipgram = 1)
cooc$year <- y
cooc<- head(cooc, 60)
cooc2_year <- rbind(cooc2_year, cooc)
}
dim(cooc_year)
wordnetwork <- cooc_year2
cooc2_year<- data.frame()
for(y in unique(results$pubyear)){
print(y)
a<- filter(results, pubyear == y)
cooc <- cooccurrence(a$lemma, relevant = a$upos %in% c("NOUN", "ADJ"), skipgram = 1)
cooc$year <- y
cooc<- head(cooc, 60)
cooc2_year <- rbind(cooc2_year, cooc)
}
dim(cooc_year)
wordnetwork <- cooc2_year
p2<- ggraph(wordnetwork, layout = "fr") +
geom_edge_link(aes(width = cooc, edge_alpha = cooc), edge_colour = "pink") +
geom_node_text(aes(label = name), col = "darkgreen", size = 4) +
theme_graph(base_family = "Arial Narrow") +
theme(legend.position = "none") +
# facet_wrap_paginate(~year)+
scale_alpha_identity()+
labs(title = "Cooccurrences within sentence: BEFORE {frame_time}", subtitle = "Nouns & Adjective")+
transition_time2(year)
ease_aes('linear')
p2
plot(p2)
library(ggraph)
library(ggforce)
library(gganimate)
library(ggplot2)
library(igraph)
library(animation)
library(lubridate)
results<-merge(x=x,y=extrem_NYT.dfm.long, by.x='doc_id',  by.y = 0  ,all.x=TRUE)
results_odd.before <- x[x$doc_id %% 2 == 1,]
results_even.after <-x[x$doc_id %% 2 == 0, ]
cooc_year<- data.frame()
# a<- filter(results, pubyear == "2010")
for(y in unique(results_odd.before$pubyear)){
print(y)
cooc <- cooccurrence(x = subset(filter(results_odd.before, pubyear == y), upos %in% c("NOUN", "ADJ")),
term = "lemma",
group = c("doc_id", "paragraph_id", "sentence_id"))
cooc$year <- y
cooc<- head(cooc, 30)
cooc_year <- rbind(cooc_year, cooc)
}
dim(cooc_year)
wordnetwork <- cooc_year
p<- ggraph(wordnetwork, layout = "fr") +
geom_edge_link(aes(width = cooc, edge_alpha = cooc), edge_colour = "pink") +
geom_node_text(aes(label = name), col = "darkgreen", size = 4) +
theme_graph(base_family = "Arial Narrow") +
theme(legend.position = "none") +
# facet_wrap_paginate(~year)+
scale_alpha_identity()+
labs(title = "Cooccurrences within sentence: BEFORE", subtitle = "Nouns & Adjective {frame_time}")+
transition_time2(year)
ease_aes('linear')
p
for(y in unique(results_odd.before$pubyear)){
print(y)
cooc <- cooccurrence(x = subset(filter(results_odd.before, pubyear == y), upos %in% c("NOUN", "ADJ")),
term = "lemma",
group = c("doc_id", "paragraph_id", "sentence_id"))
cooc$year <- y
cooc<- head(cooc, 30)
cooc_year <- rbind(cooc_year, cooc)
}
View(results_odd.before)
efore <- results[results$doc_id %% 2 == 1,]
results_even.a
results_odd.before <- results[results$doc_id %% 2 == 1,]
results_even.after <-results[results$doc_id %% 2 == 0, ]
cooc_year<- data.frame()
for(y in unique(results_odd.before$pubyear)){
print(y)
cooc <- cooccurrence(x = subset(filter(results_odd.before, pubyear == y), upos %in% c("NOUN", "ADJ")),
term = "lemma",
group = c("doc_id", "paragraph_id", "sentence_id"))
cooc$year <- y
cooc<- head(cooc, 30)
cooc_year <- rbind(cooc_year, cooc)
}
dim(cooc_year)
wordnetwork <- cooc_year
p<- ggraph(wordnetwork, layout = "fr") +
geom_edge_link(aes(width = cooc, edge_alpha = cooc), edge_colour = "pink") +
geom_node_text(aes(label = name), col = "darkgreen", size = 4) +
theme_graph(base_family = "Arial Narrow") +
theme(legend.position = "none") +
# facet_wrap_paginate(~year)+
scale_alpha_identity()+
labs(title = "Cooccurrences within sentence: BEFORE", subtitle = "Nouns & Adjective {frame_time}")+
transition_time2(year)
ease_aes('linear')
p
plot(p)
last_animation()
cooc_year<- data.frame()
for(y in unique(results_odd.before$pubyear)){
print(y)
cooc <- cooccurrence(x = subset(filter(results_odd.before, pubyear == y), upos %in% c("NOUN", "ADJ")),
term = "lemma",
group = c("doc_id", "paragraph_id", "sentence_id"))
cooc$year <- y
cooc<- head(cooc, 14)
cooc_year <- rbind(cooc_year, cooc)
}
dim(cooc_year)
wordnetwork <- cooc_year
p<- ggraph(wordnetwork, layout = "fr") +
geom_edge_link(aes(width = cooc, edge_alpha = cooc), edge_colour = "pink") +
geom_node_text(aes(label = name), col = "darkgreen", size = 4) +
theme_graph(base_family = "Arial Narrow") +
theme(legend.position = "none") +
# facet_wrap_paginate(~year)+
scale_alpha_identity()+
labs(title = "Cooccurrences within sentence: BEFORE", subtitle = "Nouns & Adjective {frame_time}")+
transition_time2(year)
ease_aes('linear')
p
plot(p)
cooc_year<- data.frame()
for(y in unique(results_even.after$pubyear)){
print(y)
cooc <- cooccurrence(x = subset(filter(results_even.after, pubyear == y), upos %in% c("NOUN", "ADJ")),
term = "lemma",
group = c("doc_id", "paragraph_id", "sentence_id"))
cooc$year <- y
cooc<- head(cooc, 14)
cooc_year <- rbind(cooc_year, cooc)
}
dim(cooc_year)
wordnetwork <- cooc_year
p2<- ggraph(wordnetwork, layout = "fr") +
geom_edge_link(aes(width = cooc, edge_alpha = cooc), edge_colour = "pink") +
geom_node_text(aes(label = name), col = "darkgreen", size = 4) +
theme_graph(base_family = "Arial Narrow") +
theme(legend.position = "none") +
# facet_wrap_paginate(~year)+
scale_alpha_identity()+
labs(title = "Cooccurrences within sentence: AFTER", subtitle = "Nouns & Adjective {frame_time}")+
transition_time2(year)
ease_aes('linear')
p2
plot(p2)
# last_animation()
cooc2_year<- data.frame()
for(y in unique(results_odd.before$pubyear)){
print(y)
a<- filter(results_odd.before, pubyear == y)
cooc <- cooccurrence(a$lemma, relevant = a$upos %in% c("NOUN", "ADJ"), skipgram = 1)
cooc$year <- y
cooc<- head(cooc, 25)
cooc2_year <- rbind(cooc2_year, cooc)
}
dim(cooc2_year)
wordnetwork <- cooc2_year
p3<- ggraph(wordnetwork, layout = "fr") +
geom_edge_link(aes(width = cooc, edge_alpha = cooc), edge_colour = "pink") +
geom_node_text(aes(label = name), col = "darkgreen", size = 4) +
theme_graph(base_family = "Arial Narrow") +
theme(legend.position = "none") +
# facet_wrap_paginate(~year)+
scale_alpha_identity()+
labs(title = "Cooccurrences within sentence: BEFORE", subtitle = "Nouns & Adjective {frame_time}")+
transition_time2(year)
ease_aes('linear')
p3
plot(p3)
last_animation()
cooc2_year<- data.frame()
for(y in unique(results_even.after$pubyear)){
print(y)
a<- filter(results_even.after, pubyear == y)
cooc <- cooccurrence(a$lemma, relevant = a$upos %in% c("NOUN", "ADJ"), skipgram = 1)
cooc$year <- y
cooc<- head(cooc, 25)
cooc2_year <- rbind(cooc2_year, cooc)
}
dim(cooc2_year)
wordnetwork <- cooc2_year
p4<- ggraph(wordnetwork, layout = "fr") +
geom_edge_link(aes(width = cooc, edge_alpha = cooc), edge_colour = "pink") +
geom_node_text(aes(label = name), col = "darkgreen", size = 4) +
theme_graph(base_family = "Arial Narrow") +
theme(legend.position = "none") +
# facet_wrap_paginate(~year)+
scale_alpha_identity()+
labs(title = "Cooccurrences within sentence: AFTER", subtitle = "Nouns & Adjective {frame_time}")+
transition_time2(year)
ease_aes('linear')
p4
plot(p4)
# last_animation()
cooc_year<- data.frame()
for(y in unique(results_odd.before$pubyear)){
print(y)
cooc <- cooccurrence(x = subset(filter(results_odd.before, pubyear == y), upos %in% c("NOUN", "ADJ")),
term = "lemma",
group = c("doc_id", "paragraph_id", "sentence_id"))
cooc$year <- y
cooc<- head(cooc, 14)
cooc_year <- rbind(cooc_year, cooc)
}
wordnetwork <- cooc_year
p<- ggraph(wordnetwork, layout = "fr") +
geom_edge_link(aes(width = cooc, edge_alpha = cooc), edge_colour = "pink") +
geom_node_text(aes(label = name), col = "darkgreen", size = 4) +
theme_graph(base_family = "Arial Narrow") +
theme(legend.position = "none") +
# facet_wrap_paginate(~year)+
scale_alpha_identity()+
labs(title = "Cooccurrences within sentence: BEFORE", subtitle = "Nouns & Adjective {frame_time}")+
transition_time2(year)
ease_aes('linear')
plot(p)
p
cooc_year<- data.frame()
for(y in unique(results_even.after$pubyear)){
# print(y)
cooc <- cooccurrence(x = subset(filter(results_even.after, pubyear == y), upos %in% c("NOUN", "ADJ")),
term = "lemma",
group = c("doc_id", "paragraph_id", "sentence_id"))
cooc$year <- y
cooc<- head(cooc, 14)
cooc_year <- rbind(cooc_year, cooc)
}
wordnetwork <- cooc_year
p2<- ggraph(wordnetwork, layout = "fr") +
geom_edge_link(aes(width = cooc, edge_alpha = cooc), edge_colour = "pink") +
geom_node_text(aes(label = name), col = "darkgreen", size = 4) +
theme_graph(base_family = "Arial Narrow") +
theme(legend.position = "none") +
# facet_wrap_paginate(~year)+
scale_alpha_identity()+
labs(title = "Cooccurrences within sentence: AFTER", subtitle = "Nouns & Adjective {frame_time}")+
transition_time2(year)
ease_aes('linear')
plot(p2)
p2
# last_animation()
cooc2_year<- data.frame()
for(y in unique(results_odd.before$pubyear)){
# print(y)
a<- filter(results_odd.before, pubyear == y)
cooc <- cooccurrence(a$lemma, relevant = a$upos %in% c("NOUN", "ADJ"), skipgram = 1)
cooc$year <- y
cooc<- head(cooc, 25)
cooc2_year <- rbind(cooc2_year, cooc)
}
wordnetwork <- cooc2_year
p3<- ggraph(wordnetwork, layout = "fr") +
geom_edge_link(aes(width = cooc, edge_alpha = cooc), edge_colour = "pink") +
geom_node_text(aes(label = name), col = "darkgreen", size = 4) +
theme_graph(base_family = "Arial Narrow") +
theme(legend.position = "none") +
# facet_wrap_paginate(~year)+
scale_alpha_identity()+
labs(title = "Cooccurrences within sentence: BEFORE", subtitle = "Nouns & Adjective {frame_time}")+
transition_time2(year)
ease_aes('linear')
plot(p3)
p3
# last_animation()
cooc2_year<- data.frame()
for(y in unique(results_even.after$pubyear)){
# print(y)
a<- filter(results_even.after, pubyear == y)
cooc <- cooccurrence(a$lemma, relevant = a$upos %in% c("NOUN", "ADJ"), skipgram = 1)
cooc$year <- y
cooc<- head(cooc, 25)
cooc2_year <- rbind(cooc2_year, cooc)
}
wordnetwork <- cooc2_year
p4<- ggraph(wordnetwork, layout = "fr") +
geom_edge_link(aes(width = cooc, edge_alpha = cooc), edge_colour = "pink") +
geom_node_text(aes(label = name), col = "darkgreen", size = 4) +
theme_graph(base_family = "Arial Narrow") +
theme(legend.position = "none") +
# facet_wrap_paginate(~year)+
scale_alpha_identity()+
labs(title = "Cooccurrences within sentence: AFTER", subtitle = "Nouns & Adjective {frame_time}")+
transition_time2(year)
ease_aes('linear')
plot(p4)
p4
# last_animation()
library(ggraph)
library(ggforce)
library(gganimate)
library(ggplot2)
library(igraph)
library(animation)
library(lubridate)
results<-merge(x=x,y=extrem_AP.dfm.long, by.x='doc_id',  by.y = 0  ,all.x=TRUE)
cooc_year<- data.frame()
for(y in unique(results_odd.before$pubyear)){
# print(y)
cooc <- cooccurrence(x = subset(filter(results_odd.before, pubyear == y), upos %in% c("NOUN", "ADJ")),
term = "lemma",
group = c("doc_id", "paragraph_id", "sentence_id"))
cooc$year <- y
cooc<- head(cooc, 14)
cooc_year <- rbind(cooc_year, cooc)
}
wordnetwork <- cooc_year
ggraph(wordnetwork, layout = "fr") +
geom_edge_link(aes(width = cooc, edge_alpha = cooc), edge_colour = "pink") +
geom_node_text(aes(label = name), col = "darkgreen", size = 4) +
theme_graph(base_family = "Arial Narrow") +
theme(legend.position = "none") +
# facet_wrap_paginate(~year)+
scale_alpha_identity()+
labs(title = "Cooccurrences within sentence: BEFORE", subtitle = "Nouns & Adjective {frame_time}")+
transition_time2(year)
ease_aes('linear')
# plot(p)
# p
cooc2_year<- data.frame()
for(y in unique(results_even.after$pubyear)){
# print(y)
a<- filter(results_even.after, pubyear == y)
cooc <- cooccurrence(a$lemma, relevant = a$upos %in% c("NOUN", "ADJ"), skipgram = 1)
cooc$year <- y
cooc<- head(cooc, 25)
cooc2_year <- rbind(cooc2_year, cooc)
}
wordnetwork <- cooc2_year
ggraph(wordnetwork, layout = "fr") +
geom_edge_link(aes(width = cooc, edge_alpha = cooc), edge_colour = "pink") +
geom_node_text(aes(label = name), col = "darkgreen", size = 4) +
theme_graph(base_family = "Arial Narrow") +
theme(legend.position = "none") +
# facet_wrap_paginate(~year)+
scale_alpha_identity()+
labs(title = "Cooccurrences within sentence: AFTER", subtitle = "Nouns & Adjective {frame_time}")+
transition_time2(year)
ease_aes('linear')
# plot(p4)
# p4
# last_animation()
cooc_year<- data.frame()
for(y in unique(results_even.after$pubyear)){
# print(y)
cooc <- cooccurrence(x = subset(filter(results_even.after, pubyear == y), upos %in% c("NOUN", "ADJ")),
term = "lemma",
group = c("doc_id", "paragraph_id", "sentence_id"))
cooc$year <- y
cooc<- head(cooc, 14)
cooc_year <- rbind(cooc_year, cooc)
}
wordnetwork <- cooc_year
ggraph(wordnetwork, layout = "fr") +
geom_edge_link(aes(width = cooc, edge_alpha = cooc), edge_colour = "pink") +
geom_node_text(aes(label = name), col = "darkgreen", size = 4) +
theme_graph(base_family = "Arial Narrow") +
theme(legend.position = "none") +
# facet_wrap_paginate(~year)+
scale_alpha_identity()+
labs(title = "Cooccurrences within sentence: AFTER", subtitle = "Nouns & Adjective {frame_time}")+
transition_time2(year)
ease_aes('linear')
# plot(p2)
# p2
# last_animation()
cooc2_year<- data.frame()
for(y in unique(results_odd.before$pubyear)){
# print(y)
a<- filter(results_odd.before, pubyear == y)
cooc <- cooccurrence(a$lemma, relevant = a$upos %in% c("NOUN", "ADJ"), skipgram = 1)
cooc$year <- y
cooc<- head(cooc, 25)
cooc2_year <- rbind(cooc2_year, cooc)
}
wordnetwork <- cooc2_year
ggraph(wordnetwork, layout = "fr") +
geom_edge_link(aes(width = cooc, edge_alpha = cooc), edge_colour = "pink") +
geom_node_text(aes(label = name), col = "darkgreen", size = 4) +
theme_graph(base_family = "Arial Narrow") +
theme(legend.position = "none") +
# facet_wrap_paginate(~year)+
scale_alpha_identity()+
labs(title = "Cooccurrences within sentence: BEFORE", subtitle = "Nouns & Adjective {frame_time}")+
transition_time2(year)
ease_aes('linear')
# plot(p3)
# p3
# last_animation()
cooc2_year<- data.frame()
for(y in unique(results_odd.before$pubyear)){
# print(y)
a<- filter(results_odd.before, pubyear == y)
cooc <- cooccurrence(a$lemma, relevant = a$upos %in% c("NOUN", "ADJ"), skipgram = 1)
cooc$year <- y
cooc<- head(cooc, 12)
cooc2_year <- rbind(cooc2_year, cooc)
}
wordnetwork <- cooc2_year
ggraph(wordnetwork, layout = "fr") +
geom_edge_link(aes(width = cooc, edge_alpha = cooc), edge_colour = "pink") +
geom_node_text(aes(label = name), col = "darkgreen", size = 4) +
theme_graph(base_family = "Arial Narrow") +
theme(legend.position = "none") +
# facet_wrap_paginate(~year)+
scale_alpha_identity()+
labs(title = "Cooccurrences within sentence: BEFORE", subtitle = "Nouns & Adjective {frame_time}")+
transition_time2(year)
ease_aes('linear')
# plot(p3)
# p3
# last_animation()
